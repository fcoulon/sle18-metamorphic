\section{Open Questions \& Next Steps}
\label{sec:discussion}
We now list in this section some open questions, as well as possible next research steps in this direction.

\paragraph{Closed-world vs. Open-world}
Implementers of a synchronization mechanism for shape-diverse DSLs may opt for the closed-world or open-world assumption.
In the former, one assumes that all LVs are known beforehand, while in the latter new LVs may be connected at any point in time, for instance using our \emph{produce/apply} interface for patches.
Although the closed-world assumption eases the definition of a common patch formalism on which all LVs agree, it hampers evolution and adaptability of the communication bus.

\paragraph{Automatic shape generation}
In our evaluation (\Cref{sec:eval}), we handcrafted every shape of the FSM language in Rascal, EMF, and Java.
It may, however, be possible to automatically generate shapes of a language, either from a common language definition or from a shape to another.
For instance, researchers have studied the generation of fluent APIs from BNF-like grammar definitions~\cite{nakamaru2017silverchain}.
Automatic generation of shapes is not necessary for shape-diverse DSLs, but future research in this area would significantly ease their adoption.

\paragraph{Patch formalism}
In \prism, we opted for patches in the form of edit scripts~\cite{rozen2017towards} and were successfully able to bridge three distinct LVs relying on radically different theories.
We cannot conclude however that the information contained in such patches is sufficient for any abstract syntax formalism.
In an open world especially, connecting new LVs raises the problem of patch evolution.
Also, if extra information (\eg~textual layout) must be shared amongst various LVs, the patch formalism should be adapted accordingly. % to carry this information.
Patches are nonetheless central to our vision, as most other approaches (\eg~change propagation~\cite{DBLP:conf/etaps/SemerathDHV16}) assume the existence of an underlying model that is not materialized in our case.

\paragraph{Towards collaborative modeling}
As mentioned in \Cref{sec:prism}, \prism does not account for concurrent edits of different incarnations of the same model.
It does not account either for a possible distribution of the shapes and incarnations on the network, or the possibility of conflicts.
Nonetheless, we believe that the idea of exchanging patches would be a good fit for advanced scenarios such as collaborative and distributed editing of models by different stakeholders under different shapes.
A crucial step towards this direction would be to improve the dispatch mechanism accordingly.

\paragraph{Challenges of internal DSLs}
We encountered a number of challenges when engineering the Java shape of our DSL (\Cref{sec:eval}).
These are mainly because domain-specific static semantics is lost when manipulating Java ASTs using domain-agnostic Java tooling.
Besides, it may be hard to statically analyze the Java code manipulating models to account for reflexivity, string manipulation, or use of variables.
Future work must investigate what the limits imposed by internal DSLs in this context are, especially regarding the absence of domain-specific static semantics.

\paragraph{Towards metamorphic DSLs}
We view this initial contribution as a first step towards \emph{metamorphic DSLs}~\cite{acher2014metamorphic}.
Beyond the ideas presented in this paper, the notion of metamorphic DSL envisions self-adaptable languages that automatically adapt their shapes and the associated IDE according to a particular usage or task.
How self-adaptability of languages could be brought to life remains an open question.

In this paper, with the objective of providing more flexibility to DSL designers and users, we have stressed the importance of shape-diverse DSLs and have proposed a first prototype approach, \prism, towards this vision.
We hope that our initial contribution will raise the awareness of the community regarding these notions and that the challenges we identify encourage future research.
